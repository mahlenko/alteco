<nav>
    <div class="container">
        <div class="nav__box d-flex">
            <div style="display: flex; align-items: center; column-gap: 3rem;">
                {{-- logotype --}}
                <a href="{{ route('coins.home') }}" class="nav__logo">
                    {{--<img src="{{ asset('css/img/logo2.svg') }}" alt="">--}}
                    <svg width="120" viewBox="0 0 807 343" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M68.0067 55.7234C115.631 55.7234 130.981 66.3227 130.981 97.2489V163.29C130.981 183.646 139.893 192.277 160.219 178.36L164.408 183.983C154.625 196.466 143.379 206.222 126.792 206.222C101.49 206.222 94.7427 188.397 94.7427 176.954C82.2041 189.775 61.8499 206.222 41.8049 206.222C16.4464 206.222 0 193.401 0 170.263C0 120.893 94.7427 118.729 94.7427 93.3691C94.7427 69.9495 86.9553 66.885 69.1032 66.885C58.2513 66.885 50.1546 72.7329 50.1546 87.7743C50.1546 100.876 40.9615 108.692 27.8605 108.692C14.7596 108.692 6.97217 100.876 6.97217 87.7743C6.97217 63.2582 36.7726 55.7234 68.0067 55.7234ZM94.7427 163.066V113.977C84.1439 126.235 36.2384 133.658 36.2384 163.037C36.2384 176.111 44.6725 183.927 57.1268 183.927C69.5811 183.927 86.393 169.982 94.7427 163.066Z" fill="#FF7442"/>
                        <path d="M224.318 170.263C224.318 187.835 234.636 195.06 246.612 195.06H249.424V200.683H163.059V195.06H165.87C177.846 195.06 188.164 187.835 188.164 170.263V48.4979C188.164 30.9262 177.846 23.7007 165.87 23.7007H163.059V19.5116L224.318 0V170.263Z" fill="#FF7442"/>
                        <path d="M348.327 78.0184H312.061V163.29C312.061 183.646 321.001 192.277 341.327 178.36L345.516 183.983C335.76 196.522 324.346 206.278 307.9 206.278C282.598 206.278 275.85 188.987 275.85 172.006V78.0184H250.801V64.1016C278.381 64.1016 291.2 50.0443 299.55 16.7283H314.872L312.061 61.3183H348.327V78.0184Z" fill="#FF7442"/>
                        <path d="M436.098 206.222C391.116 206.222 358.083 179.456 358.083 130.987C358.083 85.272 389.57 55.7234 431.909 55.7234C474.248 55.7234 491.987 79.4242 494.799 110.069L399.775 148.249C406.438 169.701 424.009 185.304 447.146 185.304C474.445 185.304 490.329 171.247 503.711 152.157C494.799 180.581 472.617 206.222 436.098 206.222ZM413.607 123.452C439.809 112.571 452.966 101.719 452.966 87.7743C452.966 76.5284 445.994 69.6684 433.455 69.6684C418.133 69.6684 397.217 79.4242 397.217 130.424L413.607 123.452Z" fill="#FF7442"/>
                        <path d="M586.027 69.6684C570.677 69.6684 551.195 83.7257 551.195 130.987C551.195 167.761 570.143 186.71 599.944 186.71C621.675 186.71 637.56 175.464 649.564 157.443C640.624 185.867 618.077 206.222 587.405 206.222C542.423 206.222 510.767 179.456 510.767 130.987C510.767 85.272 542.255 55.7234 584.622 55.7234C618.077 55.7234 641.186 69.7808 641.186 97.2489C641.186 103.162 638.837 108.833 634.656 113.014C630.476 117.195 624.805 119.544 618.892 119.544C612.979 119.544 607.309 117.195 603.128 113.014C598.947 108.833 596.598 103.162 596.598 97.2489C596.598 84.1475 611.92 69.6684 586.027 69.6684Z" fill="#FF7442"/>
                        <path d="M731.768 55.7234C778.858 55.7234 807 89.4611 807 130.987C807 172.512 778.886 206.222 731.768 206.222C684.65 206.222 656.508 172.484 656.508 130.987C656.508 89.4893 684.65 55.7234 731.768 55.7234ZM763.789 186.429C786.084 173.609 779.674 144.06 761.85 113.696C744.026 83.3321 722.013 62.6959 699.719 75.5162C677.425 88.3366 683.834 117.885 701.659 148.615C719.483 179.344 741.495 199.249 763.789 186.429Z" fill="#FF7442"/>
                        <path d="M17.448 298L17.48 263.44H22.216V280.08L37.64 263.44H43.912L27.72 280.72L46.024 298H39.176L22.216 281.36V298H17.448ZM67.95 298.96C64.7713 298.96 62.0833 298.16 59.886 296.56C57.6887 294.939 56.0247 292.752 54.894 290C53.7633 287.227 53.198 284.123 53.198 280.688C53.198 277.189 53.7633 274.075 54.894 271.344C56.046 268.592 57.7313 266.427 59.95 264.848C62.1687 263.269 64.8993 262.48 68.142 262.48C71.2993 262.48 74.0087 263.28 76.27 264.88C78.5313 266.48 80.2593 268.656 81.454 271.408C82.67 274.16 83.278 277.253 83.278 280.688C83.278 284.144 82.67 287.248 81.454 290C80.238 292.752 78.4887 294.939 76.206 296.56C73.9233 298.16 71.1713 298.96 67.95 298.96ZM52.398 313.36V263.44H56.622V289.456H57.134V313.36H52.398ZM67.47 294.576C69.8807 294.576 71.886 293.968 73.486 292.752C75.086 291.536 76.2807 289.883 77.07 287.792C77.8807 285.68 78.286 283.312 78.286 280.688C78.286 278.085 77.8913 275.739 77.102 273.648C76.3127 271.557 75.1073 269.904 73.486 268.688C71.886 267.472 69.8487 266.864 67.374 266.864C64.9633 266.864 62.958 267.451 61.358 268.624C59.7793 269.797 58.5953 271.429 57.806 273.52C57.0167 275.589 56.622 277.979 56.622 280.688C56.622 283.355 57.0167 285.744 57.806 287.856C58.5953 289.947 59.79 291.589 61.39 292.784C62.99 293.979 65.0167 294.576 67.47 294.576ZM120.961 263.44V298H116.385V271.088L97.441 298H93.473V263.44H98.049V290.128L117.025 263.44H120.961ZM133.11 298V263.44H160.598V298H155.894V267.952H137.814V298H133.11ZM182.156 298V267.792H169.9V263.44H199.116V267.792H186.86V298H182.156ZM222.225 298.96C218.79 298.96 215.857 298.181 213.425 296.624C210.993 295.067 209.126 292.912 207.825 290.16C206.523 287.408 205.873 284.251 205.873 280.688C205.873 277.061 206.534 273.883 207.857 271.152C209.179 268.421 211.057 266.299 213.489 264.784C215.942 263.248 218.854 262.48 222.225 262.48C225.681 262.48 228.625 263.259 231.057 264.816C233.51 266.352 235.377 268.496 236.657 271.248C237.958 273.979 238.609 277.125 238.609 280.688C238.609 284.315 237.958 287.504 236.657 290.256C235.355 292.987 233.478 295.12 231.025 296.656C228.571 298.192 225.638 298.96 222.225 298.96ZM222.225 294.448C226.065 294.448 228.923 293.179 230.801 290.64C232.678 288.08 233.617 284.763 233.617 280.688C233.617 276.507 232.667 273.179 230.769 270.704C228.891 268.229 226.043 266.992 222.225 266.992C219.643 266.992 217.51 267.579 215.825 268.752C214.161 269.904 212.913 271.515 212.081 273.584C211.27 275.632 210.865 278 210.865 280.688C210.865 284.848 211.825 288.187 213.745 290.704C215.665 293.2 218.491 294.448 222.225 294.448ZM263.203 298.96C259.726 298.96 256.782 298.181 254.371 296.624C251.961 295.067 250.126 292.923 248.867 290.192C247.63 287.44 246.99 284.283 246.947 280.72C246.99 277.093 247.651 273.915 248.931 271.184C250.211 268.432 252.057 266.299 254.467 264.784C256.878 263.248 259.801 262.48 263.235 262.48C266.734 262.48 269.774 263.333 272.355 265.04C274.958 266.747 276.739 269.083 277.699 272.048L273.091 273.52C272.281 271.451 270.99 269.851 269.219 268.72C267.47 267.568 265.465 266.992 263.203 266.992C260.665 266.992 258.563 267.579 256.899 268.752C255.235 269.904 253.998 271.515 253.187 273.584C252.377 275.653 251.961 278.032 251.939 280.72C251.982 284.859 252.942 288.187 254.819 290.704C256.697 293.2 259.491 294.448 263.203 294.448C265.55 294.448 267.545 293.915 269.187 292.848C270.851 291.76 272.11 290.181 272.963 288.112L277.699 289.52C276.419 292.592 274.542 294.939 272.067 296.56C269.593 298.16 266.638 298.96 263.203 298.96ZM287.473 298L287.505 263.44H292.241V280.08L307.665 263.44H313.937L297.745 280.72L316.049 298H309.201L292.241 281.36V298H287.473ZM332.343 298.96C329.74 298.96 327.554 298.491 325.783 297.552C324.034 296.613 322.722 295.365 321.847 293.808C320.972 292.251 320.535 290.555 320.535 288.72C320.535 286.843 320.908 285.243 321.655 283.92C322.423 282.576 323.458 281.477 324.759 280.624C326.082 279.771 327.607 279.12 329.335 278.672C331.084 278.245 333.015 277.872 335.127 277.552C337.26 277.211 339.34 276.923 341.367 276.688C343.415 276.432 345.207 276.187 346.743 275.952L345.079 276.976C345.143 273.563 344.482 271.035 343.095 269.392C341.708 267.749 339.298 266.928 335.863 266.928C333.495 266.928 331.49 267.461 329.847 268.528C328.226 269.595 327.084 271.28 326.423 273.584L321.847 272.24C322.636 269.147 324.226 266.747 326.615 265.04C329.004 263.333 332.108 262.48 335.927 262.48C339.084 262.48 341.762 263.077 343.959 264.272C346.178 265.445 347.746 267.152 348.663 269.392C349.09 270.395 349.367 271.515 349.495 272.752C349.623 273.989 349.687 275.248 349.687 276.528V298H345.495V289.328L346.711 289.84C345.538 292.805 343.714 295.067 341.239 296.624C338.764 298.181 335.799 298.96 332.343 298.96ZM332.887 294.896C335.084 294.896 337.004 294.501 338.647 293.712C340.29 292.923 341.612 291.845 342.615 290.48C343.618 289.093 344.268 287.536 344.567 285.808C344.823 284.699 344.962 283.483 344.983 282.16C345.004 280.816 345.015 279.813 345.015 279.152L346.807 280.08C345.207 280.293 343.468 280.507 341.591 280.72C339.735 280.933 337.9 281.179 336.087 281.456C334.295 281.733 332.674 282.064 331.223 282.448C330.242 282.725 329.292 283.12 328.375 283.632C327.458 284.123 326.7 284.784 326.103 285.616C325.527 286.448 325.239 287.483 325.239 288.72C325.239 289.723 325.484 290.693 325.975 291.632C326.487 292.571 327.298 293.349 328.407 293.968C329.538 294.587 331.031 294.896 332.887 294.896ZM361.185 298V263.44H365.889V278.448H385.377V263.44H390.081V298H385.377V282.96H365.889V298H361.185ZM416.854 298.96C413.483 298.96 410.561 298.213 408.086 296.72C405.633 295.227 403.723 293.125 402.358 290.416C400.993 287.707 400.31 284.528 400.31 280.88C400.31 277.104 400.982 273.84 402.326 271.088C403.67 268.336 405.558 266.213 407.99 264.72C410.443 263.227 413.334 262.48 416.662 262.48C420.075 262.48 422.987 263.269 425.398 264.848C427.809 266.405 429.633 268.645 430.87 271.568C432.107 274.491 432.673 277.979 432.566 282.032H427.766V280.368C427.681 275.888 426.71 272.507 424.854 270.224C423.019 267.941 420.331 266.8 416.79 266.8C413.078 266.8 410.23 268.005 408.246 270.416C406.283 272.827 405.302 276.261 405.302 280.72C405.302 285.072 406.283 288.453 408.246 290.864C410.23 293.253 413.035 294.448 416.662 294.448C419.137 294.448 421.291 293.883 423.126 292.752C424.982 291.6 426.443 289.947 427.51 287.792L431.894 289.488C430.529 292.496 428.513 294.832 425.846 296.496C423.201 298.139 420.203 298.96 416.854 298.96ZM403.638 282.032V278.096H430.038V282.032H403.638ZM458.388 298.96C455.209 298.96 452.521 298.16 450.324 296.56C448.126 294.939 446.462 292.752 445.332 290C444.201 287.227 443.636 284.123 443.636 280.688C443.636 277.189 444.201 274.075 445.332 271.344C446.484 268.592 448.169 266.427 450.388 264.848C452.606 263.269 455.337 262.48 458.58 262.48C461.737 262.48 464.446 263.28 466.708 264.88C468.969 266.48 470.697 268.656 471.892 271.408C473.108 274.16 473.716 277.253 473.716 280.688C473.716 284.144 473.108 287.248 471.892 290C470.676 292.752 468.926 294.939 466.644 296.56C464.361 298.16 461.609 298.96 458.388 298.96ZM442.836 313.36V263.44H447.06V289.456H447.572V313.36H442.836ZM457.908 294.576C460.318 294.576 462.324 293.968 463.924 292.752C465.524 291.536 466.718 289.883 467.508 287.792C468.318 285.68 468.724 283.312 468.724 280.688C468.724 278.085 468.329 275.739 467.54 273.648C466.75 271.557 465.545 269.904 463.924 268.688C462.324 267.472 460.286 266.864 457.812 266.864C455.401 266.864 453.396 267.451 451.796 268.624C450.217 269.797 449.033 271.429 448.244 273.52C447.454 275.589 447.06 277.979 447.06 280.688C447.06 283.355 447.454 285.744 448.244 287.856C449.033 289.947 450.228 291.589 451.828 292.784C453.428 293.979 455.454 294.576 457.908 294.576Z" fill="white"/>
                    </svg>
                </a>

                {{-- Desktop navigation --}}
                @auth
                    <ul class="nav__list d-flex" style="max-width: none;">
                        <li class="{{ Request::routeIs('coins.home') ? 'active' : null }}"><a href="{{ route('coins.home') }}">Криптосканер</a></li>
                        <li class="{{ Request::routeIs('signals.home') ? 'active' : null }}"><a href="{{ route('signals.home') }}">Сигналы</a></li>
                        <li class="{{ Request::routeIs('portfolio.home') ? 'active' : null }}"><a href="{{ route('portfolio.home') }}">Портфолио</a></li>
                    </ul>
                @endauth
            </div>

            @auth
                {{-- Account --}}
                <div class="header-pages__info d-flex">
                    @if (!\Illuminate\Support\Facades\Auth::user()->isAdmin())
                        @if (\Illuminate\Support\Facades\Auth::user()->expiredDays() <= 30)
                            <a href="{{ route('subscribe') }}" class="nav__btn btn btn1">
                                @if (\Illuminate\Support\Facades\Auth::user()->tariff->isFree())
                                    Улучшить тариф
                                @else
                                    Продлить подписку
                                @endif
                            </a>
                        @endif
                    @endif

                    {{-- Admin dropdown --}}
                    @if (Auth::check() && \Illuminate\Support\Facades\Auth::user()->isAdmin())
                        <div class="dropdown">
                            <a href="#" class="setting-btn" data-bs-toggle="dropdown" style="column-gap: .2rem">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />
                                </svg>
                                <span>Администрирование</span>
                            </a>

                            <ul class="dropdown-menu">
                                <li class="dropdown-item {{ Request::routeIs('tariffs.home') ? 'active' : null }}">
                                    <a href="{{ route('tariffs.home') }}">Тарифы</a>
                                </li>

                                <li class="dropdown-item {{ Request::routeIs('banners.home') ? 'active' : null }}">
                                    <a href="{{ route('banners.home') }}">Баннеры</a>
                                </li>

                                <li class="dropdown-item {{ Request::routeIs('users.home') ? 'active' : null }}">
                                    <a href="{{ route('users.home') }}">Пользователи</a>
                                </li>

                                <li class="dropdown-item {{ Request::routeIs('settings.home') ? 'active' : null }}">
                                    <a href="{{ route('settings.home') }}">API Coinmarket</a>
                                </li>
                            </ul>
                        </div>
                    @endif

                    <img src="https://www.gravatar.com/avatar/{{ md5(\Illuminate\Support\Facades\Auth::user()->email.'?s=60&d=identicon') }}"
                         alt="" class="header-pages__ava">

                    <div>
                        {{-- dropdown --}}
                        <div class="dropdown">
                            <a href="#" class="d-flex" data-bs-toggle="dropdown">
                                <span class="header-pages__name">{{ \Illuminate\Support\Facades\Auth::user()->name }}</span>
                                <img src="{{ asset('css/img/arr-icon.svg') }}" alt="">
                            </a>

                            <ul class="dropdown-menu">
                                <li class="dropdown-item {{ Request::routeIs('users.edit') ? 'active' : null }}">
                                    <a href="{{ route('users.edit', \Illuminate\Support\Facades\Auth::id()) }}">Мой профиль</a>
                                </li>

                                <li class="dropdown-item {{ Request::routeIs('subscribe') ? 'active' : null }}">
                                    <a href="{{ route('subscribe') }}">
                                        @if (\Illuminate\Support\Facades\Auth::user()->tariff?->isFree())
                                            Улучшить тариф
                                        @else
                                            Продлить подписку
                                        @endif
                                    </a>
                                </li>

                                <li class="separator"></li>

                                <li class="dropdown-item {{ Request::routeIs('users.home') ? 'active' : null }}">
                                    <a href="{{ route('logout') }}" class="d-flex"
                                       onclick="event.preventDefault(); document.getElementById('logout-form').submit();">
                                        <svg xmlns="http://www.w3.org/2000/svg" style="height: 20px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                                        </svg>
                                        <span style="padding-left: .25rem;">Выход</span>
                                    </a>

                                    <form id="logout-form" action="{{ route('logout') }}" method="POST" class="d-none">
                                        @csrf
                                    </form>
                                </li>
                            </ul>
                        </div>
                        {{--  --}}
                        @auth
                            @if (\Illuminate\Support\Facades\Auth::user()->isAdmin())
                                <small class="header-pages__text">
                                    <span>Администратор</span>
                                </small>
                            @else
                                <small class="header-pages__text">
                                    Подписка действует еще <span>{{ Auth::user()->expiredAtText() }}</span>
                                </small>
                            @endif
                        @endauth
                    </div>
                </div>
            @else
                <div class="d-flex" style="column-gap: 1rem;">
                    @if (Route::has('login'))
                        <a href="{{ route('login') }}" class="header__link">
                            {{ __('Войти') }}
                        </a>
                    @endif

                    @if (Route::has('register'))
                        <a href="{{ route('register') }}" class="header__link">
                            {{ __('Регистрация') }}
                        </a>
                    @endif
                </div>
            @endauth

            @auth
                <div class="menu">
                    <a href="#" class="button"><span></span></a>
                </div>
                <div class="burger">
                    <div class="nav__right d-flex">
                        <p class="header-pages__text">
                            У вас <span>{{ Auth::user()->expiredAtText() }}</span>

                            @if (\Illuminate\Support\Facades\Auth::user()->tariff?->isFree())
                                <br>бесплатного доступа
                            @endif
                        </p>
                        @if (!\Illuminate\Support\Facades\Auth::user()->isAdmin())
                            <a href="{{ route('subscribe') }}" class="nav__btn btn btn1">Улучшить тариф</a>
                        @endif
                    </div>

                    <div class="header-pages__info d-flex">
                        <img src="https://www.gravatar.com/avatar/{{ md5(\Illuminate\Support\Facades\Auth::user()->email.'?s=60&d=identicon') }}"
                             alt="" class="header-pages__ava">

                        <p class="header-pages__name">{{ \Illuminate\Support\Facades\Auth::user()->name }}</p>

{{--                        <a href="#" class="header-pages__btn">--}}
{{--                            <img src="css/img/arr-icon.svg" alt="">--}}
{{--                        </a>--}}
                        <a href="{{ route('logout') }}" class="header__link"
                           style="margin-left: 1rem;"
                           onclick="event.preventDefault(); document.getElementById('logout-form').submit();">
                            <svg xmlns="http://www.w3.org/2000/svg" style="height: 20px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                            </svg>
                        </a>
                    </div>

                    <ul class="nav__list">
                        <li class="{{ Request::routeIs('coins.home') ? 'active' : null }}"><a href="{{ route('coins.home') }}">Монеты</a></li>
                        <li class="{{ Request::routeIs('signals.home') ? 'active' : null }}"><a href="{{ route('signals.home') }}">Сигналы</a></li>
                        @if (Auth::check() && \Illuminate\Support\Facades\Auth::user()->isAdmin())
                            <li class="{{ Request::routeIs('users.home') ? 'active' : null }}"><a href="{{ route('users.home') }}">Пользователи</a></li>
                            <li class="{{ Request::routeIs('settings.home') ? 'active' : null }}"><a href="{{ route('settings.home') }}">Настройки</a></li>
                        @else
                            <li class="{{ Request::routeIs('users.edit') ? 'active' : null }}"><a href="{{ route('users.edit', \Illuminate\Support\Facades\Auth::id()) }}">Настройки</a></li>
                        @endif
                    </ul>
                </div>
            @endif
        </div>
    </div>
</nav>

